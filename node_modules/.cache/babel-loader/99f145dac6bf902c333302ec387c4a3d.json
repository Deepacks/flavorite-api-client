{"ast":null,"code":"import _regeneratorRuntime from\"/Users/decaf/Documents/Code/flavorite-api-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/Users/decaf/Documents/Code/flavorite-api-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/Users/decaf/Documents/Code/flavorite-api-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/decaf/Documents/Code/flavorite-api-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import CardChangeForm from\"./CardChangeForm\";//material-ui\nimport{makeStyles}from\"@material-ui/core/styles\";import Box from\"@material-ui/core/Box\";import ClickAwayListener from\"@material-ui/core/ClickAwayListener\";import Grow from\"@material-ui/core/Grow\";import IconButton from\"@material-ui/core/IconButton\";import MenuItem from\"@material-ui/core/MenuItem\";import MenuList from\"@material-ui/core/MenuList\";import MoreVertIcon from\"@material-ui/icons/MoreVert\";import Paper from\"@material-ui/core/Paper\";import Popper from\"@material-ui/core/Popper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(){return{paperStyle:{color:\"#fff\",backgroundColor:\"#313131\",filter:\"none\"},itemsStyle:{fontSize:\"1.1rem\"},delete:{\"&:hover\":{color:\"#ca3e47\"}}};});function CardOptions(props){var classes=useStyles();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var anchorRef=React.useRef(null);var handleToggle=function handleToggle(){setOpen(function(prevOpen){return!prevOpen;});};var handleClose=function handleClose(event){if(anchorRef.current&&anchorRef.current.contains(event.target)){return;}setOpen(false);};function handleListKeyDown(event){if(event.key===\"Tab\"){event.preventDefault();setOpen(false);}}function handleClick(){return _handleClick.apply(this,arguments);}function _handleClick(){_handleClick=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,_res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(props.python===true)){_context.next=7;break;}_context.next=3;return fetch(\"https://favbc.herokuapp.com/bookmarks/\"+props.id,{method:\"DELETE\"});case 3:res=_context.sent;props.setResListener(res);_context.next=12;break;case 7:if(!(props.python===false)){_context.next=12;break;}_context.next=10;return fetch(process.env.REACT_APP_API_URL+\"/bookmarks/\"+props.id,{method:\"DELETE\"});case 10:_res=_context.sent;props.setResListener(_res);case 12:case\"end\":return _context.stop();}}},_callee);}));return _handleClick.apply(this,arguments);}var prevOpen=React.useRef(open);React.useEffect(function(){if(prevOpen.current===true&&open===false){anchorRef.current.focus();}prevOpen.current=open;},[open]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(IconButton,{ref:anchorRef,\"aria-controls\":open?\"menu-list-grow\":undefined,\"aria-haspopup\":\"true\",onClick:handleToggle,className:props.class,children:/*#__PURE__*/_jsx(MoreVertIcon,{})}),/*#__PURE__*/_jsx(Popper,{open:open,anchorEl:anchorRef.current,role:undefined,transition:true,disablePortal:false,children:function children(_ref){var TransitionProps=_ref.TransitionProps,placement=_ref.placement;return/*#__PURE__*/_jsx(Grow,_objectSpread(_objectSpread({},TransitionProps),{},{style:{transformOrigin:placement===\"bottom\"?\"center top\":\"center bottom\"},children:/*#__PURE__*/_jsx(Paper,{classes:{root:classes.paperStyle},children:/*#__PURE__*/_jsx(Box,{boxShadow:4,style:{borderRadius:15},children:/*#__PURE__*/_jsx(ClickAwayListener,{onClickAway:handleClose,children:/*#__PURE__*/_jsxs(MenuList,{autoFocusItem:open,id:\"menu-list-grow\",onKeyDown:handleListKeyDown,children:[/*#__PURE__*/_jsx(CardChangeForm,{id:props.id,title:props.title,description:props.description,setResListener:props.setResListener,setMenuClose:setOpen,python:props.python}),/*#__PURE__*/_jsx(MenuItem,{classes:{root:classes.itemsStyle},className:classes.delete,onClick:handleClick,children:\"Delete\"})]})})})})}));}})]});}export default CardOptions;","map":{"version":3,"sources":["/Users/decaf/Documents/Code/flavorite-api-client/src/components/CardOptions.jsx"],"names":["React","CardChangeForm","makeStyles","Box","ClickAwayListener","Grow","IconButton","MenuItem","MenuList","MoreVertIcon","Paper","Popper","useStyles","paperStyle","color","backgroundColor","filter","itemsStyle","fontSize","delete","CardOptions","props","classes","useState","open","setOpen","anchorRef","useRef","handleToggle","prevOpen","handleClose","event","current","contains","target","handleListKeyDown","key","preventDefault","handleClick","python","fetch","id","method","res","setResListener","process","env","REACT_APP_API_URL","useEffect","focus","undefined","class","TransitionProps","placement","transformOrigin","root","borderRadius","title","description"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport CardChangeForm from \"./CardChangeForm\";\n//material-ui\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Box from \"@material-ui/core/Box\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport Grow from \"@material-ui/core/Grow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport MenuList from \"@material-ui/core/MenuList\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Popper from \"@material-ui/core/Popper\";\n\nconst useStyles = makeStyles(() => ({\n  paperStyle: {\n    color: \"#fff\",\n    backgroundColor: \"#313131\",\n    filter: \"none\",\n  },\n  itemsStyle: {\n    fontSize: \"1.1rem\",\n  },\n  delete: {\n    \"&:hover\": {\n      color: \"#ca3e47\",\n    },\n  },\n}));\n\nfunction CardOptions(props) {\n  const classes = useStyles();\n\n  const [open, setOpen] = React.useState(false);\n  const anchorRef = React.useRef(null);\n\n  const handleToggle = () => {\n    setOpen((prevOpen) => !prevOpen);\n  };\n\n  const handleClose = (event) => {\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  function handleListKeyDown(event) {\n    if (event.key === \"Tab\") {\n      event.preventDefault();\n      setOpen(false);\n    }\n  }\n\n  async function handleClick() {\n    if (props.python === true) {\n      const res = await fetch(\n        \"https://favbc.herokuapp.com/bookmarks/\" + props.id,\n        { method: \"DELETE\" }\n      );\n      props.setResListener(res);\n    } else if (props.python === false) {\n      const res = await fetch(\n        process.env.REACT_APP_API_URL + \"/bookmarks/\" + props.id,\n        {\n          method: \"DELETE\",\n        }\n      );\n      props.setResListener(res);\n    }\n  }\n\n  const prevOpen = React.useRef(open);\n  React.useEffect(() => {\n    if (prevOpen.current === true && open === false) {\n      anchorRef.current.focus();\n    }\n\n    prevOpen.current = open;\n  }, [open]);\n\n  return (\n    <div>\n      <IconButton\n        ref={anchorRef}\n        aria-controls={open ? \"menu-list-grow\" : undefined}\n        aria-haspopup=\"true\"\n        onClick={handleToggle}\n        className={props.class}\n      >\n        <MoreVertIcon />\n      </IconButton>\n      <Popper\n        open={open}\n        anchorEl={anchorRef.current}\n        role={undefined}\n        transition\n        disablePortal={false}\n      >\n        {({ TransitionProps, placement }) => (\n          <Grow\n            {...TransitionProps}\n            style={{\n              transformOrigin:\n                placement === \"bottom\" ? \"center top\" : \"center bottom\",\n            }}\n          >\n            <Paper classes={{ root: classes.paperStyle }}>\n              <Box boxShadow={4} style={{ borderRadius: 15 }}>\n                <ClickAwayListener onClickAway={handleClose}>\n                  <MenuList\n                    autoFocusItem={open}\n                    id=\"menu-list-grow\"\n                    onKeyDown={handleListKeyDown}\n                  >\n                    <CardChangeForm\n                      id={props.id}\n                      title={props.title}\n                      description={props.description}\n                      setResListener={props.setResListener}\n                      setMenuClose={setOpen}\n                      python={props.python}\n                    />\n                    <MenuItem\n                      classes={{ root: classes.itemsStyle }}\n                      className={classes.delete}\n                      onClick={handleClick}\n                    >\n                      Delete\n                    </MenuItem>\n                  </MenuList>\n                </ClickAwayListener>\n              </Box>\n            </Paper>\n          </Grow>\n        )}\n      </Popper>\n    </div>\n  );\n}\n\nexport default CardOptions;\n"]},"metadata":{},"sourceType":"module"}