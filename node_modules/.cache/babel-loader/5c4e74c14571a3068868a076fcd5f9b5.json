{"ast":null,"code":"var _jsxFileName = \"/Users/decaf/Documents/Code/flavorite-api-client/src/components/Register.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\"; //material-ui\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#ca3e47 !important\"\n    }\n  }\n});\nconst useStyles = makeStyles(theme => ({\n  containerStyle: {\n    width: \"35%\",\n    height: \"fit-content\",\n    position: \"absolute\",\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    margin: \"auto\"\n  },\n  title: {\n    fontFamily: \"Ubuntu, sans-serif\"\n  },\n  paperStyle: {\n    backgroundColor: \"#313131\"\n  },\n  warning: {\n    textAlign: \"left\",\n    color: \"#ca3e47\"\n  },\n  white: {\n    color: \"rgba(255, 255, 255, 0.6) !important\",\n    borderColor: \"rgba(255, 255, 255, 0.3) !important\",\n    \"&:hover\": {\n      backgroundColor: \"rgba(255, 255, 255, 0.05) !important\"\n    }\n  },\n  buttonStyle: {\n    margin: \"0 16px\",\n    backgroundColor: \"#ca3e47cc\",\n    \"&:hover\": {\n      backgroundColor: \"#ca3e47\"\n    }\n  },\n  labelStyle: {\n    textTransform: \"none\"\n  },\n  registerStyle: {\n    backgroundColor: \"#313131\",\n    margin: \"10px 24px 0\",\n    padding: \"15px 20px\"\n  },\n  anchorStyle: {\n    color: \"#ca3e47cc\",\n    \"&:hover\": {\n      color: \"#ca3e47\"\n    }\n  }\n}));\n\nfunction Register() {\n  _s();\n\n  const classes = useStyles();\n  const [resStatus, setResStatus] = React.useState();\n  const [warning, setWarning] = React.useState(\"\");\n  const [fieldsValue, setFieldsValue] = React.useState({\n    username: \"\",\n    password: \"\",\n    check: \"\"\n  });\n\n  const handleChange = event => {\n    const {\n      value,\n      name\n    } = event.target;\n    setFieldsValue(prevValue => {\n      return { ...prevValue,\n        [name]: value\n      };\n    });\n  };\n\n  const handleLogin = () => {\n    if (fieldsValue.password !== fieldsValue.check) {\n      setResStatus({\n        status: 0\n      });\n      setFieldsValue(prevValue => {\n        return {\n          username: prevValue.username,\n          password: \"\",\n          check: \"\"\n        };\n      });\n    } else if (fieldsValue.password === fieldsValue.check) {\n      const data = {\n        username: fieldsValue.username,\n        password: fieldsValue.password\n      };\n      const requestOptions = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data),\n        credentials: \"include\"\n      };\n      fetch(process.env.REACT_APP_API_URL + \"/register\", requestOptions).then(response => response.json()).then(data => setResStatus(data));\n    }\n  };\n\n  React.useEffect(() => {\n    if (resStatus) {\n      if (resStatus.status === 0) {\n        setWarning(\"Passwords do not match\");\n      } else if (resStatus.status === 1) {\n        setWarning(\"Email is invalid or already taken\");\n      } else if (resStatus.status === 200) {\n        setWarning(\"\");\n        window.location.replace(\"/login\");\n      }\n    }\n  }, [resStatus]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.containerStyle,\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      align: \"center\",\n      gutterBottom: true,\n      className: classes.title,\n      children: \"Register to Flavorite\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 0,\n      classes: {\n        root: classes.paperStyle\n      },\n      children: [/*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(MuiThemeProvider, {\n          theme: theme,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            align: \"center\",\n            gutterBottom: true,\n            className: classes.warning,\n            children: [warning.length > 0 && /*#__PURE__*/_jsxDEV(ErrorIcon, {\n              style: {\n                position: \"relative\",\n                top: 5,\n                marginRight: 5\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 17\n            }, this), warning]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            InputLabelProps: {\n              classes: {\n                root: classes.white\n              }\n            },\n            InputProps: {\n              classes: {\n                notchedOutline: classes.white\n              },\n              className: classes.white\n            },\n            style: {\n              marginBottom: 10\n            },\n            color: \"primary\",\n            margin: \"dense\",\n            name: \"username\",\n            value: fieldsValue.username,\n            label: \"Email address\",\n            type: \"text\",\n            variant: \"outlined\",\n            fullWidth: true,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            InputLabelProps: {\n              classes: {\n                root: classes.white\n              }\n            },\n            InputProps: {\n              classes: {\n                notchedOutline: classes.white\n              },\n              className: classes.white\n            },\n            style: {\n              marginBottom: 10\n            },\n            color: \"primary\",\n            margin: \"dense\",\n            name: \"password\",\n            value: fieldsValue.password,\n            label: \"Password\",\n            type: \"password\",\n            variant: \"outlined\",\n            fullWidth: true,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            InputLabelProps: {\n              classes: {\n                root: classes.white\n              }\n            },\n            InputProps: {\n              classes: {\n                notchedOutline: classes.white\n              },\n              className: classes.white\n            },\n            color: \"primary\",\n            margin: \"dense\",\n            name: \"check\",\n            value: fieldsValue.check,\n            label: \"Repeat password\",\n            type: \"password\",\n            variant: \"outlined\",\n            fullWidth: true,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          variant: \"contained\",\n          fullWidth: true,\n          classes: {\n            root: classes.buttonStyle,\n            label: classes.labelStyle\n          },\n          onClick: handleLogin,\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 0,\n      classes: {\n        root: classes.registerStyle\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        align: \"center\",\n        style: {\n          color: \"#fff\"\n        },\n        children: [\"Already registered?\", \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/login\",\n          className: classes.anchorStyle,\n          children: \"Log in to your account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Register, \"cEgdIg6r7eHjL1nchuhm16ojREE=\", false, function () {\n  return [useStyles];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["/Users/decaf/Documents/Code/flavorite-api-client/src/components/Register.jsx"],"names":["React","makeStyles","Button","ErrorIcon","DialogActions","DialogContent","MuiThemeProvider","createMuiTheme","Paper","TextField","Typography","theme","palette","primary","main","useStyles","containerStyle","width","height","position","top","bottom","left","right","margin","title","fontFamily","paperStyle","backgroundColor","warning","textAlign","color","white","borderColor","buttonStyle","labelStyle","textTransform","registerStyle","padding","anchorStyle","Register","classes","resStatus","setResStatus","useState","setWarning","fieldsValue","setFieldsValue","username","password","check","handleChange","event","value","name","target","prevValue","handleLogin","status","data","requestOptions","method","headers","body","JSON","stringify","credentials","fetch","process","env","REACT_APP_API_URL","then","response","json","useEffect","window","location","replace","root","length","marginRight","notchedOutline","className","marginBottom","label"],"mappings":"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","sourcesContent":["import React from \"react\";\n//material-ui\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#ca3e47 !important\",\n    },\n  },\n});\n\nconst useStyles = makeStyles((theme) => ({\n  containerStyle: {\n    width: \"35%\",\n    height: \"fit-content\",\n    position: \"absolute\",\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    margin: \"auto\",\n  },\n  title: {\n    fontFamily: \"Ubuntu, sans-serif\",\n  },\n  paperStyle: {\n    backgroundColor: \"#313131\",\n  },\n  warning: {\n    textAlign: \"left\",\n    color: \"#ca3e47\",\n  },\n  white: {\n    color: \"rgba(255, 255, 255, 0.6) !important\",\n    borderColor: \"rgba(255, 255, 255, 0.3) !important\",\n    \"&:hover\": {\n      backgroundColor: \"rgba(255, 255, 255, 0.05) !important\",\n    },\n  },\n  buttonStyle: {\n    margin: \"0 16px\",\n    backgroundColor: \"#ca3e47cc\",\n    \"&:hover\": {\n      backgroundColor: \"#ca3e47\",\n    },\n  },\n  labelStyle: {\n    textTransform: \"none\",\n  },\n  registerStyle: {\n    backgroundColor: \"#313131\",\n    margin: \"10px 24px 0\",\n    padding: \"15px 20px\",\n  },\n  anchorStyle: {\n    color: \"#ca3e47cc\",\n    \"&:hover\": {\n      color: \"#ca3e47\",\n    },\n  },\n}));\n\nfunction Register() {\n  const classes = useStyles();\n  const [resStatus, setResStatus] = React.useState();\n  const [warning, setWarning] = React.useState(\"\");\n  const [fieldsValue, setFieldsValue] = React.useState({\n    username: \"\",\n    password: \"\",\n    check: \"\",\n  });\n\n  const handleChange = (event) => {\n    const { value, name } = event.target;\n    setFieldsValue((prevValue) => {\n      return {\n        ...prevValue,\n        [name]: value,\n      };\n    });\n  };\n\n  const handleLogin = () => {\n    if (fieldsValue.password !== fieldsValue.check) {\n      setResStatus({ status: 0 });\n      setFieldsValue((prevValue) => {\n        return {\n          username: prevValue.username,\n          password: \"\",\n          check: \"\",\n        };\n      });\n    } else if (fieldsValue.password === fieldsValue.check) {\n      const data = {\n        username: fieldsValue.username,\n        password: fieldsValue.password,\n      };\n      const requestOptions = {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(data),\n        credentials: \"include\",\n      };\n      fetch(process.env.REACT_APP_API_URL + \"/register\", requestOptions)\n        .then((response) => response.json())\n        .then((data) => setResStatus(data));\n    }\n  };\n\n  React.useEffect(() => {\n    if (resStatus) {\n      if (resStatus.status === 0) {\n        setWarning(\"Passwords do not match\");\n      } else if (resStatus.status === 1) {\n        setWarning(\"Email is invalid or already taken\");\n      } else if (resStatus.status === 200) {\n        setWarning(\"\");\n        window.location.replace(\"/login\");\n      }\n    }\n  }, [resStatus]);\n\n  return (\n    <div className={classes.containerStyle}>\n      <Typography\n        variant=\"h4\"\n        align=\"center\"\n        gutterBottom\n        className={classes.title}\n      >\n        Register to Flavorite\n      </Typography>\n      <Paper elevation={0} classes={{ root: classes.paperStyle }}>\n        {/* TODO | form goes to root on submit */}\n        {/* <form noValidate autoComplete=\"off\"> */}\n        <DialogContent>\n          <MuiThemeProvider theme={theme}>\n            <Typography\n              variant=\"h6\"\n              align=\"center\"\n              gutterBottom\n              className={classes.warning}\n            >\n              {warning.length > 0 && (\n                <ErrorIcon\n                  style={{ position: \"relative\", top: 5, marginRight: 5 }}\n                />\n              )}\n              {warning}\n            </Typography>\n            <TextField\n              InputLabelProps={{\n                classes: {\n                  root: classes.white,\n                },\n              }}\n              InputProps={{\n                classes: {\n                  notchedOutline: classes.white,\n                },\n                className: classes.white,\n              }}\n              style={{ marginBottom: 10 }}\n              color=\"primary\"\n              margin=\"dense\"\n              name=\"username\"\n              value={fieldsValue.username}\n              label=\"Email address\"\n              type=\"text\"\n              variant=\"outlined\"\n              fullWidth\n              onChange={handleChange}\n            />\n            <TextField\n              InputLabelProps={{\n                classes: {\n                  root: classes.white,\n                },\n              }}\n              InputProps={{\n                classes: {\n                  notchedOutline: classes.white,\n                },\n                className: classes.white,\n              }}\n              style={{ marginBottom: 10 }}\n              color=\"primary\"\n              margin=\"dense\"\n              name=\"password\"\n              value={fieldsValue.password}\n              label=\"Password\"\n              type=\"password\"\n              variant=\"outlined\"\n              fullWidth\n              onChange={handleChange}\n            />\n            <TextField\n              InputLabelProps={{\n                classes: {\n                  root: classes.white,\n                },\n              }}\n              InputProps={{\n                classes: {\n                  notchedOutline: classes.white,\n                },\n                className: classes.white,\n              }}\n              color=\"primary\"\n              margin=\"dense\"\n              name=\"check\"\n              value={fieldsValue.check}\n              label=\"Repeat password\"\n              type=\"password\"\n              variant=\"outlined\"\n              fullWidth\n              onChange={handleChange}\n            />\n          </MuiThemeProvider>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            type=\"submit\"\n            variant=\"contained\"\n            fullWidth={true}\n            classes={{ root: classes.buttonStyle, label: classes.labelStyle }}\n            onClick={handleLogin}\n          >\n            Register\n          </Button>\n        </DialogActions>\n        {/* </form> */}\n      </Paper>\n      <Paper\n        elevation={0}\n        classes={{\n          root: classes.registerStyle,\n        }}\n      >\n        <Typography align=\"center\" style={{ color: \"#fff\" }}>\n          Already registered?{\" \"}\n          <a href=\"/login\" className={classes.anchorStyle}>\n            Log in to your account\n          </a>\n        </Typography>\n      </Paper>\n    </div>\n  );\n}\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}