{"ast":null,"code":"import _objectSpread from\"/Users/decaf/Documents/Code/express-serve-react/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/decaf/Documents/Code/express-serve-react/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import axios from\"axios\";//material-ui\nimport Box from\"@material-ui/core/Box\";import Button from\"@material-ui/core/Button\";import ClickAwayListener from\"@material-ui/core/ClickAwayListener\";import Grow from\"@material-ui/core/Grow\";import Paper from\"@material-ui/core/Paper\";import Popper from\"@material-ui/core/Popper\";import MenuItem from\"@material-ui/core/MenuItem\";import MenuList from\"@material-ui/core/MenuList\";import{makeStyles}from\"@material-ui/core/styles\";import MoreIcon from\"@material-ui/icons/MoreVert\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{optionsContainer:{zIndex:1},paper:{marginRight:theme.spacing(2)},icon:{fontSize:\"1.8rem\",color:\"#e1e5ea\"},optionsMenu:{backgroundColor:\"#313131\",color:\"#e1e5ea\",textTransform:\"none\"},itemsStyle:{fontSize:\"1.1rem\"}};});function NavbarOptions(props){var classes=useStyles();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var _React$useState3=React.useState(),_React$useState4=_slicedToArray(_React$useState3,2),resser=_React$useState4[0],setResser=_React$useState4[1];var anchorRef=React.useRef(null);var handleToggle=function handleToggle(){setOpen(function(prevOpen){return!prevOpen;});};var handleClose=function handleClose(event){if(anchorRef.current&&anchorRef.current.contains(event.target)){return;}setOpen(false);};function handleListKeyDown(event){if(event.key===\"Tab\"){event.preventDefault();setOpen(false);}}function openSetting(){props.setOpensOptions(true);}var prevOpen=React.useRef(open);React.useEffect(function(){if(prevOpen.current===true&&open===false){anchorRef.current.focus();}prevOpen.current=open;},[open]);function handleLogout(){axios({method:\"get\",withCredentials:true,url:process.env.REACT_APP_API_URL+\"/api/logout\"}).then(function(res){return setResser(res);});}React.useEffect(function(){if(resser){if(resser.data.status===200){window.location.replace(\"/login\");}}},[resser]);return/*#__PURE__*/_jsxs(\"div\",{className:classes.optionsContainer,children:[/*#__PURE__*/_jsx(Button,{ref:anchorRef,\"aria-controls\":open?\"menu-list-grow\":undefined,\"aria-haspopup\":\"true\",onClick:handleToggle,children:/*#__PURE__*/_jsx(MoreIcon,{className:classes.icon})}),/*#__PURE__*/_jsx(Popper,{open:open,anchorEl:anchorRef.current,role:undefined,transition:true,disablePortal:true,children:function children(_ref){var TransitionProps=_ref.TransitionProps,placement=_ref.placement;return/*#__PURE__*/_jsx(Grow,_objectSpread(_objectSpread({},TransitionProps),{},{style:{transformOrigin:placement===\"bottom\"?\"center top\":\"center bottom\"},children:/*#__PURE__*/_jsx(Paper,{className:classes.optionsMenu,children:/*#__PURE__*/_jsx(Box,{boxShadow:4,style:{borderRadius:15},children:/*#__PURE__*/_jsx(ClickAwayListener,{onClickAway:handleClose,children:/*#__PURE__*/_jsxs(MenuList,{autoFocusItem:open,id:\"menu-list-grow\",onKeyDown:handleListKeyDown,children:[/*#__PURE__*/_jsx(MenuItem,{classes:{root:classes.itemsStyle},className:\"case-fix\",onClick:openSetting,children:\"Settings\"}),/*#__PURE__*/_jsx(MenuItem,{classes:{root:classes.itemsStyle},className:\"case-fix\",onClick:handleLogout,children:\"Logout\"})]})})})})}));}})]});}export default NavbarOptions;","map":{"version":3,"sources":["/Users/decaf/Documents/Code/express-serve-react/react-app/src/components/NavbarOptions.jsx"],"names":["React","axios","Box","Button","ClickAwayListener","Grow","Paper","Popper","MenuItem","MenuList","makeStyles","MoreIcon","useStyles","theme","optionsContainer","zIndex","paper","marginRight","spacing","icon","fontSize","color","optionsMenu","backgroundColor","textTransform","itemsStyle","NavbarOptions","props","classes","useState","open","setOpen","resser","setResser","anchorRef","useRef","handleToggle","prevOpen","handleClose","event","current","contains","target","handleListKeyDown","key","preventDefault","openSetting","setOpensOptions","useEffect","focus","handleLogout","method","withCredentials","url","process","env","REACT_APP_API_URL","then","res","data","status","window","location","replace","undefined","TransitionProps","placement","transformOrigin","borderRadius","root"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\n//material-ui\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport Grow from \"@material-ui/core/Grow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Popper from \"@material-ui/core/Popper\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport MenuList from \"@material-ui/core/MenuList\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport MoreIcon from \"@material-ui/icons/MoreVert\";\n\nconst useStyles = makeStyles((theme) => ({\n  optionsContainer: {\n    zIndex: 1,\n  },\n  paper: {\n    marginRight: theme.spacing(2),\n  },\n  icon: {\n    fontSize: \"1.8rem\",\n    color: \"#e1e5ea\",\n  },\n  optionsMenu: {\n    backgroundColor: \"#313131\",\n    color: \"#e1e5ea\",\n    textTransform: \"none\",\n  },\n  itemsStyle: {\n    fontSize: \"1.1rem\",\n  },\n}));\n\nfunction NavbarOptions(props) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const [resser, setResser] = React.useState();\n  const anchorRef = React.useRef(null);\n\n  const handleToggle = () => {\n    setOpen((prevOpen) => !prevOpen);\n  };\n\n  const handleClose = (event) => {\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  function handleListKeyDown(event) {\n    if (event.key === \"Tab\") {\n      event.preventDefault();\n      setOpen(false);\n    }\n  }\n\n  function openSetting() {\n    props.setOpensOptions(true);\n  }\n\n  const prevOpen = React.useRef(open);\n  React.useEffect(() => {\n    if (prevOpen.current === true && open === false) {\n      anchorRef.current.focus();\n    }\n\n    prevOpen.current = open;\n  }, [open]);\n\n  function handleLogout() {\n    axios({\n      method: \"get\",\n      withCredentials: true,\n      url: process.env.REACT_APP_API_URL + \"/api/logout\",\n    }).then((res) => setResser(res));\n  }\n\n  React.useEffect(() => {\n    if (resser) {\n      if (resser.data.status === 200) {\n        window.location.replace(\"/login\");\n      }\n    }\n  }, [resser]);\n\n  return (\n    <div className={classes.optionsContainer}>\n      <Button\n        ref={anchorRef}\n        aria-controls={open ? \"menu-list-grow\" : undefined}\n        aria-haspopup=\"true\"\n        onClick={handleToggle}\n      >\n        <MoreIcon className={classes.icon} />\n      </Button>\n      <Popper\n        open={open}\n        anchorEl={anchorRef.current}\n        role={undefined}\n        transition\n        disablePortal\n      >\n        {({ TransitionProps, placement }) => (\n          <Grow\n            {...TransitionProps}\n            style={{\n              transformOrigin:\n                placement === \"bottom\" ? \"center top\" : \"center bottom\",\n            }}\n          >\n            <Paper className={classes.optionsMenu}>\n              <Box boxShadow={4} style={{ borderRadius: 15 }}>\n                <ClickAwayListener onClickAway={handleClose}>\n                  <MenuList\n                    autoFocusItem={open}\n                    id=\"menu-list-grow\"\n                    onKeyDown={handleListKeyDown}\n                  >\n                    <MenuItem\n                      classes={{ root: classes.itemsStyle }}\n                      className=\"case-fix\"\n                      onClick={openSetting}\n                    >\n                      Settings\n                    </MenuItem>\n                    <MenuItem\n                      classes={{ root: classes.itemsStyle }}\n                      className=\"case-fix\"\n                      onClick={handleLogout}\n                    >\n                      Logout\n                    </MenuItem>\n                  </MenuList>\n                </ClickAwayListener>\n              </Box>\n            </Paper>\n          </Grow>\n        )}\n      </Popper>\n    </div>\n  );\n}\n\nexport default NavbarOptions;\n"]},"metadata":{},"sourceType":"module"}